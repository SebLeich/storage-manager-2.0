<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>storage-manager documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">storage-manager documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li
  >
  ParamEditorComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/lib/process-builder/components/dialog/param-editor/param-editor.component.ts</code>
</p>




    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                    <code><a href="https://angular.io/api/core/OnInit" target="_blank" >OnInit</a></code>
                    <code><a href="https://angular.io/api/core/OnDestroy" target="_blank" >OnDestroy</a></code>
    </p>


<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover metadata">
        <tbody>









            <tr>
                <td class="col-md-3">providers</td>
                <td class="col-md-9">
                                <code><a href="../injectables/ParamEditorComponentService.html" target="_self" >ParamEditorComponentService</a></code>
                </td>
            </tr>


            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-param-editor</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./param-editor.component.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./param-editor.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_editor$$" >_editor$$</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_jsonChanged$$" >_jsonChanged$$</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_paramBody$$" >_paramBody$$</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#_subscriptions" >_subscriptions</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#config" >config</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#jsonChanged$" >jsonChanged$</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#paramEditorComponentService" >paramEditorComponentService</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#selectedIndex" >selectedIndex</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Async</span>
                                <a href="#calculateFunctionOutput" >calculateFunctionOutput</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Async</span>
                                <a href="#close" >close</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#ngOnDestroy" >ngOnDestroy</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#ngOnInit" >ngOnInit</a>
                            </li>
                        </ul>
                    </td>
                </tr>





                    <tr>
                        <td class="col-md-4">
                            <h6><b>Accessors</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                    <a href="#parameterBody" >parameterBody</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(config: <a href="../interfaces/IProcessBuilderConfig.html" target="_self">IProcessBuilderConfig</a>, _ref: <a href="../components/ParamEditorComponent.html" target="_self">MatDialogRef&lt;ParamEditorComponent&gt;</a>, _store: Store, paramEditorComponentService: <a href="../injectables/ParamEditorComponentService.html" target="_self">ParamEditorComponentService</a>, _snackBar: MatSnackBar)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="42" class="link-to-prism">src/lib/process-builder/components/dialog/param-editor/param-editor.component.ts:42</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>config</td>
                                                  
                                                        <td>
                                                                        <code><a href="../interfaces/IProcessBuilderConfig.html" target="_self" >IProcessBuilderConfig</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>_ref</td>
                                                  
                                                        <td>
                                                                        <code><a href="../components/ParamEditorComponent.html" target="_self" >MatDialogRef&lt;ParamEditorComponent&gt;</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>_store</td>
                                                  
                                                        <td>
                                                                    <code>Store</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>paramEditorComponentService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ParamEditorComponentService.html" target="_self" >ParamEditorComponentService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>_snackBar</td>
                                                  
                                                        <td>
                                                                    <code>MatSnackBar</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="calculateFunctionOutput"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span class="modifier">Async</span>
                        <span ><b>calculateFunctionOutput</b></span>
                        <a href="#calculateFunctionOutput"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>calculateFunctionOutput(func: <a href="../interfaces/IFunction.html" target="_self">IFunction</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="52"
                            class="link-to-prism">src/lib/process-builder/components/dialog/param-editor/param-editor.component.ts:52</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>func</td>
                                    <td>
                                                <code><a href="../interfaces/IFunction.html" target="_self" >IFunction</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="close"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span class="modifier">Async</span>
                        <span ><b>close</b></span>
                        <a href="#close"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>close()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="75"
                            class="link-to-prism">src/lib/process-builder/components/dialog/param-editor/param-editor.component.ts:75</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnDestroy"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>ngOnDestroy</b></span>
                        <a href="#ngOnDestroy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>ngOnDestroy()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="94"
                            class="link-to-prism">src/lib/process-builder/components/dialog/param-editor/param-editor.component.ts:94</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>ngOnInit</b></span>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>ngOnInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="98"
                            class="link-to-prism">src/lib/process-builder/components/dialog/param-editor/param-editor.component.ts:98</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_editor$$"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_editor$$</b></span>
                        <a href="#_editor$$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new ReplaySubject&lt;JSONEditor&gt;(1)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="36" class="link-to-prism">src/lib/process-builder/components/dialog/param-editor/param-editor.component.ts:36</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_jsonChanged$$"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_jsonChanged$$</b></span>
                        <a href="#_jsonChanged$$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Subject&lt;object&gt;()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="37" class="link-to-prism">src/lib/process-builder/components/dialog/param-editor/param-editor.component.ts:37</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_paramBody$$"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_paramBody$$</b></span>
                        <a href="#_paramBody$$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new ReplaySubject&lt;ElementRef&lt;HTMLDivElement&gt;&gt;(1)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="35" class="link-to-prism">src/lib/process-builder/components/dialog/param-editor/param-editor.component.ts:35</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="_subscriptions"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>_subscriptions</b></span>
                        <a href="#_subscriptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Subscription</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Subscription()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="42" class="link-to-prism">src/lib/process-builder/components/dialog/param-editor/param-editor.component.ts:42</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="config"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>config</b></span>
                        <a href="#config"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/IProcessBuilderConfig.html" target="_self" >IProcessBuilderConfig</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <b>Decorators : </b>
                        <br />
                        <code>
                            @Inject(PROCESS_BUILDER_CONFIG_TOKEN)<br />
                        </code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="45" class="link-to-prism">src/lib/process-builder/components/dialog/param-editor/param-editor.component.ts:45</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="jsonChanged$"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>jsonChanged$</b></span>
                        <a href="#jsonChanged$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this._jsonChanged$$.pipe(debounceTime(500))</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="39" class="link-to-prism">src/lib/process-builder/components/dialog/param-editor/param-editor.component.ts:39</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="paramEditorComponentService"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>paramEditorComponentService</b></span>
                        <a href="#paramEditorComponentService"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../injectables/ParamEditorComponentService.html" target="_self" >ParamEditorComponentService</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="48" class="link-to-prism">src/lib/process-builder/components/dialog/param-editor/param-editor.component.ts:48</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selectedIndex"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>selectedIndex</b></span>
                        <a href="#selectedIndex"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>0</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="40" class="link-to-prism">src/lib/process-builder/components/dialog/param-editor/param-editor.component.ts:40</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

    <section>
    <h3 id="accessors">
        Accessors
    </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="parameterBody"></a>
                        <span class="name"><b>parameterBody</b><a href="#parameterBody"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>


                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>set</b><code>parameterBody(body: ElementRef<HTMLDivElement>)</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="25" class="link-to-prism">src/lib/process-builder/components/dialog/param-editor/param-editor.component.ts:25</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">

                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <table class="params">
                                            <thead>
                                                <tr>
                                                    <td>Name</td>
                                                        <td>Type</td>
                                                    <td>Optional</td>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                    <tr>
                                                            <td>body</td>
                                                    
                                                            <td>
                                                                        <code>ElementRef&lt;HTMLDivElement&gt;</code>
                                                            </td>
                                                    
                                                        <td>
                                                                No
                                                        </td>
                                                        
                                                    </tr>
                                            </tbody>
                                        </table>
                                </div>
                                <div>
                                </div>
                                <div class="io-description">
                                    <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                                </div>
                        </td>
                    </tr>
            </tbody>
        </table>
</section>
</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, ElementRef, Inject, OnDestroy, OnInit, ViewChild } from &#x27;@angular/core&#x27;;
import { MatDialogRef } from &#x27;@angular/material/dialog&#x27;;
import { Store } from &#x27;@ngrx/store&#x27;;
import JSONEditor from &#x27;jsoneditor&#x27;;
import { combineLatest, ReplaySubject, Subject, Subscription } from &#x27;rxjs&#x27;;
import { ProcessBuilderRepository } from &#x27;src/lib/core/process-builder-repository&#x27;;
import { IParam } from &#x27;src/lib/process-builder/interfaces/param.interface&#x27;;
import { IProcessBuilderConfig, PROCESS_BUILDER_CONFIG_TOKEN, } from &#x27;src/lib/process-builder/interfaces/process-builder-config.interface&#x27;;
import { updateIParam } from &#x27;src/lib/process-builder/store/actions/param.actions&#x27;;
import { IFunction } from &#x27;src/lib/process-builder/interfaces/function.interface&#x27;;
import { MatSnackBar } from &#x27;@angular/material/snack-bar&#x27;;
import { debounceTime } from &#x27;rxjs/operators&#x27;;
import { ParamEditorComponentService } from &#x27;./service/param-editor-component.service&#x27;;
import { selectSnapshot } from &#x27;src/lib/process-builder/globals/select-snapshot&#x27;;
import { injectValues } from &#x27;src/lib/process-builder/store/selectors/injection-context.selectors&#x27;;

@Component({
  selector: &#x27;app-param-editor&#x27;,
  templateUrl: &#x27;./param-editor.component.html&#x27;,
  styleUrls: [&#x27;./param-editor.component.scss&#x27;],
  providers: [ParamEditorComponentService],
})
export class ParamEditorComponent implements OnInit, OnDestroy {
  @ViewChild(&#x27;parameterBody&#x27;, { static: true, read: ElementRef })
  private set parameterBody(body: ElementRef&lt;HTMLDivElement&gt;) {
    this._paramBody$$.next(body);
    this._editor$$.next(
      new JSONEditor(body.nativeElement, {
        onChangeJSON: (value: object) &#x3D;&gt; {
          return this._jsonChanged$$.next(value);
        },
      })
    );
  }
  private _paramBody$$ &#x3D; new ReplaySubject&lt;ElementRef&lt;HTMLDivElement&gt;&gt;(1);
  private _editor$$ &#x3D; new ReplaySubject&lt;JSONEditor&gt;(1);
  private _jsonChanged$$ &#x3D; new Subject&lt;object&gt;();

  public jsonChanged$ &#x3D; this._jsonChanged$$.pipe(debounceTime(500));
  public selectedIndex: number &#x3D; 0;

  private _subscriptions: Subscription &#x3D; new Subscription();

  constructor(
    @Inject(PROCESS_BUILDER_CONFIG_TOKEN) public config: IProcessBuilderConfig,
    private _ref: MatDialogRef&lt;ParamEditorComponent&gt;,
    private _store: Store,
    public paramEditorComponentService: ParamEditorComponentService,
    private _snackBar: MatSnackBar,
  ) { }

  public async calculateFunctionOutput(func: IFunction) {
    const formGroup &#x3D; await selectSnapshot(this.paramEditorComponentService.formGroup$);
    if (func.customImplementation) {
      const injector &#x3D; this._store.select(injectValues)
      const output &#x3D; await ProcessBuilderRepository.calculateCustomImplementationOutput(func.customImplementation, injector);
      const outputIParamDefinitions &#x3D; ProcessBuilderRepository.extractObjectTypeDefinition(output);

      formGroup.controls[&#x27;typeDef&#x27;]?.setValue(outputIParamDefinitions);
      formGroup.controls[&#x27;typeDef&#x27;]?.markAsDirty();

      this._store.dispatch(updateIParam(formGroup.value as IParam));

      this._snackBar.open(&#x60;param recalculated successfully&#x60;, &#x27;Ok&#x27;, {
        duration: 2000,
      });
      this.selectedIndex &#x3D; 0;
    } else if (typeof func.implementation &#x3D;&#x3D;&#x3D; &#x27;function&#x27;) {
      // @ts-ignore
      let result &#x3D; func.implementation();
      console.log(result);
    }
  }

  public async close() {
    const formGroup &#x3D; await selectSnapshot(this.paramEditorComponentService.formGroup$);
    if (formGroup.dirty) {
      const editor &#x3D; await selectSnapshot(this._editor$$);
      const parsedValue &#x3D; ProcessBuilderRepository.extractObjectTypeDefinition(
        editor.get()
      );
      formGroup.controls[&#x27;defaultValue&#x27;].setValue(parsedValue);
      formGroup.controls[&#x27;normalizedName&#x27;].setValue(
        ProcessBuilderRepository.normalizeName(formGroup.controls[&#x27;name&#x27;]?.value)
      );

      this._store.dispatch(updateIParam(formGroup.value as IParam));
      this._snackBar.open(&#x60;param saved&#x60;, &#x27;Ok&#x27;, { duration: 2000 });
    }

    this._ref.close();
  }

  public ngOnDestroy() {
    this._subscriptions.unsubscribe();
  }

  public ngOnInit(): void {
    this._subscriptions.add(this.paramEditorComponentService.availableInputParams$.subscribe((iParams) &#x3D;&gt; this.paramEditorComponentService.updateInjector(iParams)));
    this._subscriptions.add(
      combineLatest([
        this._editor$$,
        this.paramEditorComponentService.paramObjectPseudoObject$,
      ]).subscribe(([editor, pseudoObject]: [JSONEditor, object]) &#x3D;&gt; {
        editor.set(pseudoObject);
        editor.expandAll();
      })
    );
    this._subscriptions.add(
      combineLatest([this.paramEditorComponentService.formGroup$, this.jsonChanged$])
        .subscribe(([formGroup, pseudoObject]) &#x3D;&gt; {
          const iParam &#x3D; ProcessBuilderRepository.extractObjectTypeDefinition(pseudoObject) as IParam;
          formGroup.controls[&#x27;typeDef&#x27;]?.setValue(iParam.typeDef);
          formGroup.controls[&#x27;interface&#x27;].setValue(null);
          formGroup.controls[&#x27;typeDef&#x27;]?.markAsDirty();
          formGroup.controls[&#x27;interface&#x27;].markAsDirty();
        })
    );
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;div class&#x3D;&quot;body&quot;&gt;

    &lt;div class&#x3D;&quot;dialog-navbar&quot;&gt;

        &lt;mat-icon class&#x3D;&quot;icon&quot;&gt;edit&lt;/mat-icon&gt;
        &lt;div class&#x3D;&quot;text&quot;&gt;
            Edit parameter
        &lt;/div&gt;
        &lt;button mat-icon-button color&#x3D;&quot;warn&quot; (click)&#x3D;&quot;close()&quot;&gt;
            &lt;mat-icon&gt;clear&lt;/mat-icon&gt;
        &lt;/button&gt;

    &lt;/div&gt;

    &lt;div class&#x3D;&quot;dialog-body form-body&quot; [formGroup]&#x3D;&quot;(paramEditorComponentService.formGroup$|async)!&quot;&gt;

        &lt;div class&#x3D;&quot;param-naming-wrapper&quot;&gt;

            &lt;mat-form-field class&#x3D;&quot;width&quot;&gt;
                &lt;input type&#x3D;&quot;text&quot; matInput formControlName&#x3D;&quot;name&quot; /&gt;
                &lt;mat-label&gt;param name&lt;/mat-label&gt;
            &lt;/mat-form-field&gt;

        &lt;/div&gt;

        &lt;mat-tab-group mat-align-tabs&#x3D;&quot;start&quot; [(selectedIndex)]&#x3D;&quot;selectedIndex&quot;&gt;

            &lt;mat-tab label&#x3D;&quot;design&quot;&gt;

                &lt;div class&#x3D;&quot;structure-editor-wrapper&quot; #parameterBody&gt;&lt;/div&gt;

            &lt;/mat-tab&gt;

            &lt;mat-tab label&#x3D;&quot;import from flow&quot; *ngIf&#x3D;&quot;paramEditorComponentService.computable$|async&quot;&gt;

                &lt;div class&#x3D;&quot;hint&quot;&gt;
                    Dynamically calculate the parameter&#x27;s data structure as a result of your modeled flow.
                    The parameter &lt;b&gt;{{(paramEditorComponentService.paramObject$|async)?.name ?? &#x27;unknown&#x27;}}&lt;/b&gt; is produced by
                    &lt;b&gt;{{(paramEditorComponentService.paramIsProducedByFunctions$|async)?.length ?? 0}}&lt;/b&gt; function(s).
                &lt;/div&gt;

                &lt;div class&#x3D;&quot;function-wrapper&quot; *ngFor&#x3D;&quot;let func of paramEditorComponentService.paramIsProducedByFunctions$|async&quot;&gt;

                    &lt;app-function-preview [func]&#x3D;&quot;func&quot;&gt;&lt;/app-function-preview&gt;
                    &lt;div class&#x3D;&quot;calculate-control&quot; (click)&#x3D;&quot;calculateFunctionOutput(func)&quot;&gt;
                        calculate
                    &lt;/div&gt;

                &lt;/div&gt;

            &lt;/mat-tab&gt;

        &lt;/mat-tab-group&gt;

    &lt;/div&gt;

&lt;/div&gt;</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>./param-editor.component.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">@import &quot;src/lib/scss/info-theme&quot;;

.body {
    width: 80vw;
    max-width: 1000px;
    overflow: hidden;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
}

.dialog-body {
    overflow: hidden;
    max-height: 80vh;
}

.param-naming-wrapper {
    padding: 0.5rem 1.5rem;
}

.hint {
    padding: 1rem;
    @include info-theme;
}

.structure-editor-wrapper {
    height: 800px;
    max-height: calc(100vh - 220px);
}

.function-wrapper {
    padding: 1rem;
}

.calculate-control {
    text-align: center;
    cursor: pointer;
    background-color: #ededed;
    cursor: pointer;
    padding: 0.5rem;
    margin-top: 0.5rem;
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><div class="body">    <div class="dialog-navbar">        <mat-icon class="icon">edit</mat-icon>        <div class="text">            Edit parameter        </div>        <button mat-icon-button color="warn" (click)="close()">            <mat-icon>clear</mat-icon>        </button>    </div>    <div class="dialog-body form-body" [formGroup]="(paramEditorComponentService.formGroup$|async)!">        <div class="param-naming-wrapper">            <mat-form-field class="width">                <input type="text" matInput formControlName="name" />                <mat-label>param name</mat-label>            </mat-form-field>        </div>        <mat-tab-group mat-align-tabs="start" [(selectedIndex)]="selectedIndex">            <mat-tab label="design">                <div class="structure-editor-wrapper" #parameterBody></div>            </mat-tab>            <mat-tab label="import from flow" *ngIf="paramEditorComponentService.computable$|async">                <div class="hint">                    Dynamically calculate the parameter\'s data structure as a result of your modeled flow.                    The parameter <b>{{(paramEditorComponentService.paramObject$|async)?.name ?? \'unknown\'}}</b> is produced by                    <b>{{(paramEditorComponentService.paramIsProducedByFunctions$|async)?.length ?? 0}}</b> function(s).                </div>                <div class="function-wrapper" *ngFor="let func of paramEditorComponentService.paramIsProducedByFunctions$|async">                    <app-function-preview [func]="func"></app-function-preview>                    <div class="calculate-control" (click)="calculateFunctionOutput(func)">                        calculate                    </div>                </div>            </mat-tab>        </mat-tab-group>    </div></div></div>'
    var COMPONENTS = [{'name': 'AboutComponent', 'selector': 'app-about'},{'name': 'AccessTokenInputComponent', 'selector': 'app-access-token-input'},{'name': 'ApiCallConfiguratorComponent', 'selector': 'app-api-call-configurator'},{'name': 'ApiCallConfiguratorDialogComponent', 'selector': 'app-api-call-configurator-dialog'},{'name': 'ApiConfigurationPreviewComponent', 'selector': 'app-api-configuration-preview'},{'name': 'ApiLoginTestComponent', 'selector': 'app-api-login-test'},{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'CalculationComponent', 'selector': 'app-calculation'},{'name': 'CalculationContextOverviewComponent', 'selector': 'app-calculation-context-overview'},{'name': 'CodeEditorComponent', 'selector': 'app-code-editor'},{'name': 'ConfirmationComponent', 'selector': 'app-confirmation'},{'name': 'ConsoleComponent', 'selector': 'app-console'},{'name': 'ContainerPreviewComponent', 'selector': 'app-container-preview'},{'name': 'EditDataDialogComponent', 'selector': 'app-edit-data-dialog'},{'name': 'EmbeddedConfigureErrorGatewayEntranceConnectionComponent', 'selector': 'app-embedded-configure-error-gateway-entrance-connection'},{'name': 'EmbeddedFunctionImplementationComponent', 'selector': 'app-embedded-function-implementation'},{'name': 'EmbeddedFunctionSelectionComponent', 'selector': 'app-embedded-function-selection'},{'name': 'EmbeddedInputOutputMappingComponent', 'selector': 'app-embedded-input-output-mapping'},{'name': 'EmbeddedInputOutputMappingTableRowComponent', 'selector': 'app-embedded-input-output-mapping-table-row'},{'name': 'EmbeddedParamEditorComponent', 'selector': 'app-embedded-param-editor'},{'name': 'EndpointInputComponent', 'selector': 'app-endpoint-input'},{'name': 'ErrorComponent', 'selector': 'app-error'},{'name': 'FunctionOutputPreviewComponent', 'selector': 'app-function-output-preview'},{'name': 'FunctionPreviewComponent', 'selector': 'app-function-preview'},{'name': 'GoodPreviewComponent', 'selector': 'app-good-preview'},{'name': 'GoodsPanelComponent', 'selector': 'app-goods-panel'},{'name': 'GroupsFormComponent', 'selector': 'app-groups-form'},{'name': 'GroupsPanelComponent', 'selector': 'app-groups-panel'},{'name': 'LocalDataComponent', 'selector': 'app-local-data'},{'name': 'MethodQuickInteractionComponent', 'selector': 'app-method-quick-interaction'},{'name': 'NavbarComponent', 'selector': 'app-navbar'},{'name': 'NoSolutionDialogComponent', 'selector': 'app-no-solution-dialog'},{'name': 'OrdersFormComponent', 'selector': 'app-orders-form'},{'name': 'ParamEditorComponent', 'selector': 'app-param-editor'},{'name': 'ParamMemberPathPreviewComponent', 'selector': 'app-param-member-path-preview'},{'name': 'ParamMemberPreviewComponent', 'selector': 'app-param-member-preview'},{'name': 'ParamPreviewComponent', 'selector': 'app-param-preview'},{'name': 'PipelineActionPreviewComponent', 'selector': 'app-pipeline-action-preview'},{'name': 'PipeRunnerComponent', 'selector': 'app-pipe-runner'},{'name': 'PipeRunnerOptionsBarComponent', 'selector': 'app-pipe-runner-options-bar'},{'name': 'ProcessBuilderComponent', 'selector': 'app-process-builder'},{'name': 'ProcessBuilderWrapperComponent', 'selector': 'app-process-builder-wrapper'},{'name': 'ProductFormComponent', 'selector': 'app-products-form'},{'name': 'SceneVisualizationComponent', 'selector': 'app-scene-visualization'},{'name': 'SelectApiAuthorizationComponent', 'selector': 'app-select-api-authorization'},{'name': 'SelectGroupComponent', 'selector': 'app-select-group'},{'name': 'SelectPipelineComponent', 'selector': 'app-select-pipeline'},{'name': 'SelectProductComponent', 'selector': 'app-select-product'},{'name': 'SelectUnitComponent', 'selector': 'app-select-unit'},{'name': 'SolutionAnimationComponent', 'selector': 'app-solution-animation'},{'name': 'SolutionPreviewComponent', 'selector': 'app-solution-preview'},{'name': 'SolutionPreviewRenderingComponent', 'selector': 'app-solution-preview-rendering'},{'name': 'SolutionValidationComponent', 'selector': 'app-solution-validation'},{'name': 'SolutionVisualizationDialogComponent', 'selector': 'app-solution-visualization-dialog'},{'name': 'TaskCreationComponent', 'selector': 'app-task-creation'},{'name': 'UserInputComponent', 'selector': 'app-user-input'},{'name': 'UsernamePasswordCombinationComponent', 'selector': 'app-username-password-combination'},{'name': 'VisualizerComponent', 'selector': 'app-visualizer'},{'name': 'WidgetComponent', 'selector': 'app-widget'}];
    var DIRECTIVES = [{'name': 'AnimatedCounterDirective', 'selector': '[appAnimatedCounter]'}];
    var ACTUAL_COMPONENT = {'name': 'ParamEditorComponent'};
</script>
<script src="../js/tree.js"></script>

















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'ParamEditorComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
