<div class="body">

    <div class="search-wrapper" [class.expanded]="searchinputExpanded">
        <input #searchInput [formControl]="filterControl" class="search-input" type="text"
            (blur)="toggleSearchInput(false)" />
        <mat-icon (click)="toggleSearchInput()">search</mat-icon>
    </div>

    <div class="content">

        <ng-container *ngIf="(functions$|async)?.length; else noFunctions">

            <div class="function-wrapper" [@showList]="(functions$|async)?.length" *ngFor="let func of (functions$|async)" (click)="selectFunction(func)" [ngClass]="{ 'active': func.identifier === formGroup.controls.functionIdentifier!.value }">

                <div class="preview">
                    <app-function-preview [func]="func"></app-function-preview>
                </div>

                <div class="control-wrapper">

                    <div class="control accent-2">
                        {{ func.identifier === formGroup.controls.functionIdentifier!.value? 'unselect': 'select' }}
                    </div>

                    <div *ngIf="func.customImplementation" class="control danger"
                        (click)="removeFunction(func, $event)">
                        remove
                    </div>

                </div>

            </div>

        </ng-container>

    </div>

</div>

<ng-template #noFunctions>

    <div class="no-function-found-hint">
        no functions found
    </div>

</ng-template>
